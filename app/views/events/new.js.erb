<script>
$('#loading').remove();
</script>
<%= render partial: 'events/new_idea_form' %>
<script>
blerb = $('#new_idea_blerb').val();
$('#new_idea_title').text(blerb);
$("input[type=checkbox].switch").each(function() {
  $(this).before(
      '<span class="switch">' +
      '<span class="mask" /><span class="background" />' +
      '</span>'
    );
  $(this).hide();
    // Set inital state
  if (!$(this)[0].checked) {
      $(this).prev().find(".background").css({left: "-56px"});
    }
  });
 $('#datetime').datetimepicker({
      timeFormat: "h:mm tt",
      ampm: true,
      stepMinute: 15,
      addSliderAccess: true,
      sliderAccessArgs: { touchonly: true }
  });

 $("#addLink").click(function () {
 $("#addLinkp").slideToggle();
 $("#new_idea_button").fancybox.update();
});

$("#addmap").click(function () {
 $('#addmapp').slideToggle();
 $("#new_idea_button").fancybox.update();
});

$("#new_event_form").validate({
  rules: {
    "event[title]": {
      maxlength: 140
    },
    "event[min]": {
      number: true
    },
    "event[max]": {
      number: true
    },
    "event[duration]": {
      required: true,
      number: true
    }
  }
});
</script>