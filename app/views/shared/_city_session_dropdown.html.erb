<span class="choose_city">
<form>
  <select name="URL" onchange="window.location.href= this.form.URL.options[this.form.URL.selectedIndex].value">
  	<option>pick your city</option>
  	<option value="madison">Madison, Wisconsin</option>
  	<% City.all.each do |c| %>
  	<% unless c == City.find_by_name("Madison, Wisconsin") %>
	    <option value=<%="/#{c.name.split(',')[0].gsub(/\s+/, "").downcase}"%>><%= "#{c.name}"%></option>
    <% end %>
    <% end %>
  </select>
</form>
</span>

<% if false %>
	<form>
	<%= select_tag :city_id, options_from_collection_for_select(City.all, :id, :name), { :name => "URL", :onchange => "window.location.href= this.form.URL.options[this.form.URL.selectedIndex].value"} %>
</form>
<% end %>